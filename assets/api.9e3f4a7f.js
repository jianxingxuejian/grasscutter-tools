import{G as d,bJ as b,bK as y,S as T,bL as P}from"./index.cb7c391b.js";const o=new Map,f=2e3;function m(e,n){var u;o.has(e)||(o.set(e,n),(u=window.$message)==null||u.error(n,{duration:f}),setTimeout(()=>{o.delete(e)},f))}function v(){const e=d();async function n(r,a){return await s("GET",r,a)}async function u(r,a){return await s("POST",r,a)}async function s(r,a,h){try{const{getServer:c,locale:w,token:S,admin_token:A,proxy:$}=e,k={locale:w,token:S,admin_token:A},l=await b("http",{method:r,url:c+a,params:h,headers:k,proxy:$});if(l){const g=JSON.parse(l),{code:p,msg:C}=g;return p!=200&&m(p,C),g}}catch{m(100,y.global.t("network error"))}}return{get:n,post:u}}const t=v();function B(e){return t.get(`/plugin/admin/auth?adminVoucher=${e}`)}function M(e){return t.get("/plugin/admin/createAccount",e)}function O(e){return t.get(`/plugin/admin/command?command=${e}`)}function R(e){return t.get(`/plugin/mail/verifyCode?username=${e}`)}function V(e,n){return t.get("/plugin/player/authByVerifyCode",{username:e,verifyCode:n})}function q(e,n){return t.get("/plugin/player/authByPassword",{username:e,password:n})}function E(e){if(!!i())return t.get(`/plugin/player/command?command=${e}`)}function G(e){if(!!i())return t.get(`/plugin/player/levelUpAll?type=${e}`)}function U(){return t.get("/plugin/player/getProps")}function _(){if(!!i())return t.get("/plugin/player/cdr")}function i(){var e;return T&&!d().token?((e=window.$message)==null||e.error(y.global.t("player auth first")),P.push("/setting/index"),!1):!0}export{V as a,q as b,_ as c,B as d,M as e,O as f,U as g,G as l,R as m,E as p};
