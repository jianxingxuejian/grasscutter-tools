import{t as H,a as z,b$ as te,b as O,d as B,e as ne,u as J,g as V,i as se,h as q,bd as oe,T as ae,c9 as ie,b9 as ce,ae as re,C as L,D as Z,E as k,V as le,H as D,G as M,r as S,M as Q,J as y,I as l,K as n,bs as X,ca as Y,bg as T,b3 as U,cb as ue,cc as de,a3 as pe,bD as E,cd as _e,z as me,b5 as fe,ce as he,cf as ge,cg as ve}from"./index.256a2f69.js";import{_ as we}from"./MyButton.vuevuetypescriptsetuptruelang.0f5b9f5d.js";import{_ as ye}from"./ServerInput.vuevuetypescriptsetuptruelang.0e65aa52.js";import{r as N,s as be,_ as ke,i as xe,a as W,p as G,b as j}from"./SelectFile.vuevuetypescriptsetuptruelang.217bc291.js";import{_ as $e}from"./Checkbox.567d71d9.js";import{_ as qe}from"./plugin-vueexport-helper.2444895f.js";import{a as Se}from"./Tooltip.0d7fbdb6.js";import{_ as F}from"./Space.6b21f013.js";import{_ as Ce}from"./Tag.a4d6174b.js";import{a as Pe}from"./Switch.2bd9d3c7.js";import"./request.b8755077.js";import"./Dropdown.6849045b.js";import"./utils.78f1df34.js";import"./ChevronRight.bd9f5ace.js";import"./InputGroupLabel.5f821385.js";import"./get-slot.8207e825.js";const ze=H([H("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),z("spin-container",{position:"relative"},[z("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[te()])]),z("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),z("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[O("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),z("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),z("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[O("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),Te={small:20,medium:18,large:16},Ie=Object.assign(Object.assign({},J.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),Le=B({name:"Spin",props:Ie,setup(o){const{mergedClsPrefixRef:c,inlineThemeDisabled:t}=ne(o),a=J("Spin","-spin",ze,ie,o,c),e=V(()=>{const{size:s}=o,{common:{cubicBezierEaseInOut:u},self:i}=a.value,{opacitySpinning:m,color:v,textColor:g}=i,x=typeof s=="number"?ce(s):i[re("size",s)];return{"--n-bezier":u,"--n-opacity-spinning":m,"--n-size":x,"--n-color":v,"--n-text-color":g}}),p=t?se("spin",V(()=>{const{size:s}=o;return typeof s=="number"?String(s):s[0]}),e,o):void 0;return{mergedClsPrefix:c,compitableShow:Se(o,["spinning","show"]),mergedStrokeWidth:V(()=>{const{strokeWidth:s}=o;if(s!==void 0)return s;const{size:u}=o;return Te[typeof u=="number"?"medium":u]}),cssVars:t?void 0:e,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender}},render(){var o,c;const{$slots:t,mergedClsPrefix:a,description:e}=this,p=t.icon&&this.rotate,s=(e||t.description)&&q("div",{class:`${a}-spin-description`},e||((o=t.description)===null||o===void 0?void 0:o.call(t))),u=t.icon?q("div",{class:[`${a}-spin-body`,this.themeClass]},q("div",{class:[`${a}-spin`,p&&`${a}-spin--rotate`],style:t.default?"":this.cssVars},t.icon()),s):q("div",{class:[`${a}-spin-body`,this.themeClass]},q(oe,{clsPrefix:a,style:t.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${a}-spin`}),s);return(c=this.onRender)===null||c===void 0||c.call(this),t.default?q("div",{class:[`${a}-spin-container`,this.themeClass],style:this.cssVars},q("div",{class:[`${a}-spin-content`,this.compitableShow&&`${a}-spin-content--spinning`]},t),q(ae,{name:"fade-in-transition"},{default:()=>this.compitableShow?u:null})):u}}),Ue={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Be=k("path",{fill:"currentColor",d:"M7.1 11.35q.35-.7.725-1.35q.375-.65.825-1.3l-1.4-.275l-2.1 2.1Zm12.05-6.875q-1.75.05-3.737 1.025q-1.988.975-3.613 2.6q-1.05 1.05-1.875 2.25T8.7 12.6l2.85 2.825q1.05-.4 2.25-1.225q1.2-.825 2.25-1.875q1.625-1.625 2.6-3.6Q19.625 6.75 19.675 5q0-.1-.037-.2q-.038-.1-.113-.175q-.075-.075-.175-.113q-.1-.037-.2-.037Zm-5.5 6q-.575-.575-.575-1.413q0-.837.575-1.412t1.425-.575q.85 0 1.425.575q.575.575.575 1.412q0 .838-.575 1.413q-.575.575-1.425.575q-.85 0-1.425-.575Zm-.85 6.55L13.625 19l2.1-2.1l-.275-1.4q-.65.45-1.3.812q-.65.363-1.35.713Zm8.775-13.35q.2 2.75-.9 5.362q-1.1 2.613-3.475 4.988l.5 2.475q.1.5-.05.975q-.15.475-.5.825L14 21.45q-.375.375-.9.287q-.525-.087-.725-.587l-1.525-3.575L6.575 13.3L3 11.775q-.5-.2-.6-.725q-.1-.525.275-.9L5.825 7q.35-.35.838-.5q.487-.15.987-.05l2.475.5q2.375-2.375 4.988-3.475q2.612-1.1 5.362-.9q.2.025.4.112q.2.088.35.238q.15.15.237.35q.088.2.113.4Zm-17.65 12.3q.875-.875 2.137-.888q1.263-.012 2.138.863t.862 2.137q-.012 1.263-.887 2.138q-.625.625-2.087 1.075q-1.463.45-4.038.8q.35-2.575.8-4.038q.45-1.462 1.075-2.087Zm1.425 1.4q-.25.25-.5.913q-.25.662-.35 1.337q.675-.1 1.338-.337q.662-.238.912-.488q.3-.3.325-.725q.025-.425-.275-.725q-.3-.3-.725-.288q-.425.013-.725.313Z"},null,-1),Re=[Be];function Ve(o,c){return L(),Z("svg",Ue,Re)}const Ne={name:"material-symbols-rocket-launch-outline-rounded",render:Ve},Me={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Ee=le('<g fill="none" stroke="currentColor" stroke-dasharray="18" stroke-dashoffset="18" stroke-linecap="round" stroke-width="2"><path d="M12 5V19"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.3s" values="18;0"></animate></path><path d="M5 12H19"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="18;0"></animate></path></g>',1),Ae=[Ee];function Ze(o,c){return L(),Z("svg",Me,Ae)}const De={name:"line-md-plus",render:Ze},He={class:"flex-col items-center gap-y-5"},Oe={class:"flex-center w-full"},We={class:"flex-center w-full"},Ge={class:"flex-center w-full"},je=B({__name:"StartupItems",setup(o,{expose:c}){c({show:g,launcherAll:d});const{t}=D(),a=M(),{launcher:e,mod:p,updateGamePath:s,updateModPath:u,updateAkebiPath:i,updateLauncher:m}=a,v=S(!1);function g(){v.value=!0}const x=()=>r(s),C=()=>r(u),h=()=>r(i);async function r(f){const _=await be();_&&await f(_)}async function d(){var f;try{const _=p.path;_&&e.modStart&&await N(_);const b=e.akebiPath;if(b&&e.akebiStart)await N(b);else{const w=e.gamePath;w&&e.gameStart&&await N(w)}}catch(_){(f=window.$message)==null||f.error(_)}}return(f,_)=>{const b=$e,w=ke,P=Y;return L(),Q(P,{show:n(v),"onUpdate:show":_[3]||(_[3]=$=>X(v)?v.value=$:null),preset:"card",title:n(t)("startup items"),"auto-focus":!1,class:"w-70%"},{default:y(()=>[k("div",He,[k("div",Oe,[l(b,{checked:n(e).gameStart,"onUpdate:checked":[_[0]||(_[0]=$=>n(e).gameStart=$),n(m)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),l(w,{value:n(e).gamePath,"button-text":n(t)("select"),placeholder:n(t)("select game"),onClick:x},null,8,["value","button-text","placeholder"])]),k("div",We,[l(b,{checked:n(e).modStart,"onUpdate:checked":[_[1]||(_[1]=$=>n(e).modStart=$),n(m)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),l(w,{value:n(p).path,"button-text":n(t)("select"),placeholder:n(t)("select 3dm"),onClick:C},null,8,["value","button-text","placeholder"])]),k("div",Ge,[l(b,{checked:n(e).akebiStart,"onUpdate:checked":[_[2]||(_[2]=$=>n(e).akebiStart=$),n(m)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),l(w,{value:n(e).akebiPath,"button-text":n(t)("select"),placeholder:n(t)("select akebi"),onClick:h},null,8,["value","button-text","placeholder"])])])]),_:1},8,["show","title"])}}});const Ke=qe(je,[["__scopeId","data-v-e60a3e73"]]);var Je={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function K(o){return o.replace(RegExp("^"+(o.match(/^(\t| )+/)||"")[0],"gm"),"")}function I(o){return(o+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(o,c){var t,a,e,p,s,u=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,i=[],m="",v=c||{},g=0;function x(h){var r=Je[h[1]||""],d=i[i.length-1]==h;return r?r[1]?(d?i.pop():i.push(h),r[0|d]):r[0]:h}function C(){for(var h="";i.length;)h+=x(i[i.length-1]);return h}for(o=o.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(h,r,d){return v[r.toLowerCase()]=d,""}).replace(/^\n+|\n+$/g,"");e=u.exec(o);)a=o.substring(g,e.index),g=u.lastIndex,t=e[0],a.match(/[^\\](\\\\)*\\$/)||((s=e[3]||e[4])?t='<pre class="code '+(e[4]?"poetry":e[2].toLowerCase())+'"><code'+(e[2]?' class="language-'+e[2].toLowerCase()+'"':"")+">"+K(I(s).replace(/^\n+|\n+$/g,""))+"</code></pre>":(s=e[6])?(s.match(/\./)&&(e[5]=e[5].replace(/^\d+/gm,"")),p=A(K(e[5].replace(/^\s*[>*+.-]/gm,""))),s==">"?s="blockquote":(s=s.match(/\./)?"ol":"ul",p=p.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),t="<"+s+">"+p+"</"+s+">"):e[8]?t='<img src="'+I(e[8])+'" alt="'+I(e[7])+'">':e[10]?(m=m.replace("<a>",'<a href="'+I(e[11]||v[a.toLowerCase()])+'">'),t=C()+"</a>"):e[9]?t="<a>":e[12]||e[14]?t="<"+(s="h"+(e[14]?e[14].length:e[13]>"="?1:2))+">"+A(e[12]||e[15],v)+"</"+s+">":e[16]?t="<code>"+I(e[16])+"</code>":(e[17]||e[1])&&(t=x(e[17]||"--"))),m+=a,m+=t;return(m+o.substring(g)+C()).replace(/^\n+|\n+$/g,"")}const Qe={class:"flex-col items-center"},Xe={class:"text-5"},Ye=k("div",{id:"content"},null,-1),Fe=B({__name:"Updater",setup(o,{expose:c}){const{t}=D(),a=S(!1),e=S(!1);async function p(){var u,i;try{a.value=!0,await ue(),(u=window.$dialog)==null||u.success({title:t("install successful"),content:t("whether relaunch"),negativeText:t("cancel"),positiveText:t("relaunch"),onPositiveClick:()=>de()})}catch(m){(i=window.$notification)==null||i.error({title:t("failed to update"),description:`error: ${m}`,content:t("try again")})}finally{a.value=!1}}function s(u){u&&(e.value=!0,pe(()=>{const i=document.getElementById("content");i&&(i.innerHTML=A(u))}))}return c({open:s}),(u,i)=>{const m=E,v=F,g=Le,x=_e,C=Y;return L(),Q(C,{show:n(e),"onUpdate:show":i[1]||(i[1]=h=>X(e)?e.value=h:null),"mask-closable":!1,class:"w-50%"},{default:y(()=>[l(x,null,{default:y(()=>[l(g,{show:n(a)},{default:y(()=>[k("div",Qe,[k("div",Xe,T(n(t)("new ver discover")),1),Ye,l(v,{class:"flex-center mt-4"},{default:y(()=>[l(m,{onClick:i[0]||(i[0]=h=>e.value=!1)},{default:y(()=>[U(T(n(t)("cancel")),1)]),_:1}),l(m,{type:"success",onClick:p},{default:y(()=>[U(T(n(t)("update")),1)]),_:1})]),_:1})])]),_:1},8,["show"])]),_:1})]),_:1},8,["show"])}}});const et={class:"flex-col items-center px-10 gap-y-4"},tt={class:"flex-center"},nt=k("span",{class:"text-8 flex-center"},"Grasscutter-Tools",-1),st={class:"text-5"},yt=B({__name:"index",setup(o){const{t:c}=D(),t=S(""),a=S(!1),e=S(),p=M(),{updateCheckTime:s,getServer:u}=M(),i=S(),m=S();async function v(){var r,d;try{const f=await xe();(r=window.$message)==null||r.success(f)}catch(f){(d=window.$message)==null||d.error(f)}}const g=S(!1);async function x(r){var d;try{r?(await W(u),await G(),g.value=!0):(await j(),g.value=!1)}catch(f){(d=window.$message)==null||d.error(f)}}async function C(){var r;await W(u),await G(),g.value=!0,(r=m.value)==null||r.launcherAll()}async function h(r){var _,b;const d=Date.now(),f=p.update.lastCheckTime;if(r||!f||f&&f+864e5<d)try{const{shouldUpdate:w,manifest:P}=await ge();s(d),w&&(P==null?void 0:P.body)?(e.value=JSON.parse(P.body)[p.locale],a.value=!0):(_=window.$message)==null||_.success(c("latest ver now"))}catch(w){(b=window.$notification)==null||b.error({title:c("failed get update info"),description:`error: ${w}`,content:c("retry manually")})}}return me(()=>{var r;if(a.value){const d=(r=window.$notification)==null?void 0:r.info({title:c("new ver discover"),content:c("whether upgrade"),action:()=>q(E,{text:!0,type:"primary",onClick:()=>{var f;d==null||d.destroy(),(f=i.value)==null||f.open(e.value)}},{default:()=>c("confirm")})})}}),fe(async()=>{t.value=await ve(),h()}),he(window,"beforeunload",()=>{g.value&&j()}),(r,d)=>{const f=Ce,_=ye,b=Pe,w=F,P=De,$=we,ee=Ne;return L(),Z("div",et,[k("div",tt,[nt,l(f,{type:"success",size:"large",class:"ml-2 cursor-pointer",onClick:d[0]||(d[0]=R=>h(!0))},{default:y(()=>[U(" v"+T(n(t)),1)]),_:1})]),l(n(Fe),{ref_key:"updaterRef",ref:i},null,512),l(n(Ke),{ref_key:"startupItemsRef",ref:m},null,512),l(w,{class:"flex-center"},{default:y(()=>[l(n(E),{onClick:v},{default:y(()=>[U(T(n(c)("install ca")),1)]),_:1}),l(_),k("span",st,T(n(c)("proxy start")),1),l(b,{value:n(g),onUpdateValue:x},null,8,["value"])]),_:1}),l(w,{class:"flex-center"},{default:y(()=>{var R;return[l($,{text:n(c)("startup items"),onClick:(R=n(m))==null?void 0:R.show},{default:y(()=>[l(P)]),_:1},8,["text","onClick"]),l($,{text:n(c)("launch"),onClick:C},{default:y(()=>[l(ee)]),_:1},8,["text"])]}),_:1})])}}});export{yt as default};
