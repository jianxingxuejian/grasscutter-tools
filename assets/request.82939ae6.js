import{G as k,bP as M,bJ as O}from"./index.21ae495e.js";const s=new Map,g=2e3;function w(t,n){var o;s.has(t)||(s.set(t,n),(o=window.$message)==null||o.error(n,{duration:g}),setTimeout(()=>{s.delete(t)},g))}function R(){const t=k();async function n(e,r){return await a("GET",e,r)}async function o(e,r){return await a("POST",e,r)}async function a(e,r,S){try{const{getServer:c,locale:l,token:p,admin_token:h,proxy:m}=t,y={locale:l,token:p,admin_token:h},i=await M("http",{method:e,url:c+r,params:S,headers:y,proxy:m});if(i){const u=JSON.parse(i),{code:f,msg:d}=u;return f!=200&&w(f,d),u}}catch{w(100,O.global.t("network error"))}}return{get:n,post:o}}const b=R();export{b as r};
