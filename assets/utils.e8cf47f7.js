import{d as D,ab as Ze,_ as fe,b5 as Xe,b6 as Je,g as O,r as V,n as J,b7 as ce,h as b,aR as Qe,b8 as pe,b9 as Z,ba as me,$ as ze,a as $,v as j,t as U,e as et,u as Q,bb as tt,j as he,aG as nt,b4 as q,i as Te,m as Pe,k as Le,T as it,b as W,w as ot,b2 as rt,A as G,bc as lt,X as ye,p as be,aS as st,bd as at,N as dt,be as ct,Y as ut,bf as ie}from"./index.9f9f864f.js";import{e as ft,f as oe,g as ht,h as vt,i as ve,j as gt}from"./Tooltip.6e436ecf.js";function Se(e,t){let{target:n}=e;for(;n;){if(n.dataset&&n.dataset[t]!==void 0)return!0;n=n.parentElement}return!1}function re(e){const t=e.filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:n=>{e.forEach(i=>{i&&i(n)})}}function xe(e){return e&-e}class pt{constructor(t,n){this.l=t,this.min=n;const i=new Array(t+1);for(let o=0;o<t+1;++o)i[o]=0;this.ft=i}add(t,n){if(n===0)return;const{l:i,ft:o}=this;for(t+=1;t<=i;)o[t]+=n,t+=xe(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:n,min:i,l:o}=this;if(t>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let l=t*i;for(;t>0;)l+=n[t],t-=xe(t);return l}getBound(t){let n=0,i=this.l;for(;i>n;){const o=Math.floor((n+i)/2),l=this.sum(o);if(l>t){i=o;continue}else if(l<t){if(n===o)return this.sum(n+1)<=t?n+1:o;n=o}else return o}return n}}let X;function mt(){return X===void 0&&("matchMedia"in window?X=window.matchMedia("(pointer:coarse)").matches:X=!1),X}let le;function we(){return le===void 0&&(le="chrome"in window?window.devicePixelRatio:1),le}const yt=oe(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[oe("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[oe("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),bt=D({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=Ze();yt.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:ft,ssr:t}),fe(()=>{const{defaultScrollIndex:d,defaultScrollKey:m}=e;d!=null?y({index:d}):m!=null&&y({key:m})});let n=!1,i=!1;Xe(()=>{if(n=!1,!i){i=!0;return}y({top:h.value,left:u})}),Je(()=>{n=!0,i||(i=!0)});const o=O(()=>{const d=new Map,{keyField:m}=e;return e.items.forEach((x,T)=>{d.set(x[m],T)}),d}),l=V(null),r=V(void 0),a=new Map,g=O(()=>{const{items:d,itemSize:m,keyField:x}=e,T=new pt(d.length,m);return d.forEach((P,M)=>{const k=P[x],F=a.get(k);F!==void 0&&T.add(M,F)}),T}),f=V(0);let u=0;const h=V(0),S=J(()=>Math.max(g.value.getBound(h.value-ce(e.paddingTop))-1,0)),E=O(()=>{const{value:d}=r;if(d===void 0)return[];const{items:m,itemSize:x}=e,T=S.value,P=Math.min(T+Math.ceil(d/x+1),m.length-1),M=[];for(let k=T;k<=P;++k)M.push(m[k]);return M}),y=(d,m)=>{if(typeof d=="number"){C(d,m,"auto");return}const{left:x,top:T,index:P,key:M,position:k,behavior:F,debounce:s=!0}=d;if(x!==void 0||T!==void 0)C(x,T,F);else if(P!==void 0)w(P,F,s);else if(M!==void 0){const c=o.value.get(M);c!==void 0&&w(c,F,s)}else k==="bottom"?C(0,Number.MAX_SAFE_INTEGER,F):k==="top"&&C(0,0,F)};let N,K=null;function w(d,m,x){const{value:T}=g,P=T.sum(d)+ce(e.paddingTop);if(!x)l.value.scrollTo({left:0,top:P,behavior:m});else{N=d,K!==null&&window.clearTimeout(K),K=window.setTimeout(()=>{N=void 0,K=null},16);const{scrollTop:M,offsetHeight:k}=l.value;if(P>M){const F=T.get(d);P+F<=M+k||l.value.scrollTo({left:0,top:P+F-k,behavior:m})}else l.value.scrollTo({left:0,top:P,behavior:m})}}function C(d,m,x){l.value.scrollTo({left:d,top:m,behavior:x})}function I(d,m){var x,T,P;if(n||e.ignoreItemResize||z(m.target))return;const{value:M}=g,k=o.value.get(d),F=M.get(k),s=(P=(T=(x=m.borderBoxSize)===null||x===void 0?void 0:x[0])===null||T===void 0?void 0:T.blockSize)!==null&&P!==void 0?P:m.contentRect.height;if(s===F)return;s-e.itemSize===0?a.delete(d):a.set(d,s-e.itemSize);const R=s-F;if(R===0)return;M.add(k,R);const H=l.value;if(H!=null){if(N===void 0){const Y=M.sum(k);H.scrollTop>Y&&H.scrollBy(0,R)}else if(k<N)H.scrollBy(0,R);else if(k===N){const Y=M.sum(k);s+Y>H.scrollTop+H.offsetHeight&&H.scrollBy(0,R)}A()}f.value++}const v=!mt();let p=!1;function L(d){var m;(m=e.onScroll)===null||m===void 0||m.call(e,d),(!v||!p)&&A()}function B(d){var m;if((m=e.onWheel)===null||m===void 0||m.call(e,d),v){const x=l.value;if(x!=null){if(d.deltaX===0&&(x.scrollTop===0&&d.deltaY<=0||x.scrollTop+x.offsetHeight>=x.scrollHeight&&d.deltaY>=0))return;d.preventDefault(),x.scrollTop+=d.deltaY/we(),x.scrollLeft+=d.deltaX/we(),A(),p=!0,ht(()=>{p=!1})}}}function _(d){if(n||z(d.target)||d.contentRect.height===r.value)return;r.value=d.contentRect.height;const{onResize:m}=e;m!==void 0&&m(d)}function A(){const{value:d}=l;d!=null&&(h.value=d.scrollTop,u=d.scrollLeft)}function z(d){let m=d;for(;m!==null;){if(m.style.display==="none")return!0;m=m.parentElement}return!1}return{listHeight:r,listStyle:{overflow:"auto"},keyToIndex:o,itemsStyle:O(()=>{const{itemResizable:d}=e,m=Z(g.value.sum());return f.value,[e.itemsStyle,{boxSizing:"content-box",height:d?"":m,minHeight:d?m:"",paddingTop:Z(e.paddingTop),paddingBottom:Z(e.paddingBottom)}]}),visibleItemsStyle:O(()=>(f.value,{transform:`translateY(${Z(g.value.sum(S.value))})`})),viewportItems:E,listElRef:l,itemsElRef:V(null),scrollTo:y,handleListResize:_,handleListScroll:L,handleListWheel:B,handleItemResize:I}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:i}=this;return b(pe,{onResize:this.handleListResize},{default:()=>{var o,l;return b("div",Qe(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?b("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[b(i,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(r=>{const a=r[t],g=n.get(a),f=this.$slots.default({item:r,index:g})[0];return e?b(pe,{key:a,onResize:u=>this.handleItemResize(a,u)},{default:()=>f}):(f.key=a,f)})})]):(l=(o=this.$slots).empty)===null||l===void 0?void 0:l.call(o)])}})}});function St(e,t){t&&(fe(()=>{const{value:n}=e;n&&me.registerHandler(n,t)}),ze(()=>{const{value:n}=e;n&&me.unregisterHandler(n)}))}const xt=D({name:"Checkmark",render(){return b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},b("g",{fill:"none"},b("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),wt=D({name:"Empty",render(){return b("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),b("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),kt=D({props:{onFocus:Function,onBlur:Function},setup(e){return()=>b("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function ke(e){return Array.isArray(e)?e:[e]}const ue={STOP:"STOP"};function Me(e,t){const n=t(e);e.children!==void 0&&n!==ue.STOP&&e.children.forEach(i=>Me(i,t))}function Ct(e,t={}){const{preserveGroup:n=!1}=t,i=[],o=n?r=>{r.isLeaf||(i.push(r.key),l(r.children))}:r=>{r.isLeaf||(r.isGroup||i.push(r.key),l(r.children))};function l(r){r.forEach(o)}return l(e),i}function Rt(e,t){const{isLeaf:n}=e;return n!==void 0?n:!t(e)}function Nt(e){return e.children}function zt(e){return e.key}function Tt(){return!1}function Pt(e,t){const{isLeaf:n}=e;return!(n===!1&&!Array.isArray(t(e)))}function Lt(e){return e.disabled===!0}function Mt(e,t){return e.isLeaf===!1&&!Array.isArray(t(e))}function se(e){var t;return e==null?[]:Array.isArray(e)?e:(t=e.checkedKeys)!==null&&t!==void 0?t:[]}function ae(e){var t;return e==null||Array.isArray(e)?[]:(t=e.indeterminateKeys)!==null&&t!==void 0?t:[]}function Ot(e,t){const n=new Set(e);return t.forEach(i=>{n.has(i)||n.add(i)}),Array.from(n)}function It(e,t){const n=new Set(e);return t.forEach(i=>{n.has(i)&&n.delete(i)}),Array.from(n)}function Ft(e){return(e==null?void 0:e.type)==="group"}function Et(e){const t=new Map;return e.forEach((n,i)=>{t.set(n.key,i)}),n=>{var i;return(i=t.get(n))!==null&&i!==void 0?i:null}}class Kt extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function At(e,t,n,i){return ee(t.concat(e),n,i,!1)}function _t(e,t){const n=new Set;return e.forEach(i=>{const o=t.treeNodeMap.get(i);if(o!==void 0){let l=o.parent;for(;l!==null&&!(l.disabled||n.has(l.key));)n.add(l.key),l=l.parent}}),n}function Bt(e,t,n,i){const o=ee(t,n,i,!1),l=ee(e,n,i,!0),r=_t(e,n),a=[];return o.forEach(g=>{(l.has(g)||r.has(g))&&a.push(g)}),a.forEach(g=>o.delete(g)),o}function de(e,t){const{checkedKeys:n,keysToCheck:i,keysToUncheck:o,indeterminateKeys:l,cascade:r,leafOnly:a,checkStrategy:g,allowNotLoaded:f}=e;if(!r)return i!==void 0?{checkedKeys:Ot(n,i),indeterminateKeys:Array.from(l)}:o!==void 0?{checkedKeys:It(n,o),indeterminateKeys:Array.from(l)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(l)};const{levelTreeNodeMap:u}=t;let h;o!==void 0?h=Bt(o,n,t,f):i!==void 0?h=At(i,n,t,f):h=ee(n,t,f,!1);const S=g==="parent",E=g==="child"||a,y=h,N=new Set,K=Math.max.apply(null,Array.from(u.keys()));for(let w=K;w>=0;w-=1){const C=w===0,I=u.get(w);for(const v of I){if(v.isLeaf)continue;const{key:p,shallowLoaded:L}=v;if(E&&L&&v.children.forEach(z=>{!z.disabled&&!z.isLeaf&&z.shallowLoaded&&y.has(z.key)&&y.delete(z.key)}),v.disabled||!L)continue;let B=!0,_=!1,A=!0;for(const z of v.children){const d=z.key;if(!z.disabled){if(A&&(A=!1),y.has(d))_=!0;else if(N.has(d)){_=!0,B=!1;break}else if(B=!1,_)break}}B&&!A?(S&&v.children.forEach(z=>{!z.disabled&&y.has(z.key)&&y.delete(z.key)}),y.add(p)):_&&N.add(p),C&&E&&y.has(p)&&y.delete(p)}}return{checkedKeys:Array.from(y),indeterminateKeys:Array.from(N)}}function ee(e,t,n,i){const{treeNodeMap:o,getChildren:l}=t,r=new Set,a=new Set(e);return e.forEach(g=>{const f=o.get(g);f!==void 0&&Me(f,u=>{if(u.disabled)return ue.STOP;const{key:h}=u;if(!r.has(h)&&(r.add(h),a.add(h),Mt(u.rawNode,l))){if(i)return ue.STOP;if(!n)throw new Kt}})}),a}function Ht(e,{includeGroup:t=!1,includeSelf:n=!0},i){var o;const l=i.treeNodeMap;let r=e==null?null:(o=l.get(e))!==null&&o!==void 0?o:null;const a={keyPath:[],treeNodePath:[],treeNode:r};if(r!=null&&r.ignored)return a.treeNode=null,a;for(;r;)!r.ignored&&(t||!r.isGroup)&&a.treeNodePath.push(r),r=r.parent;return a.treeNodePath.reverse(),n||a.treeNodePath.pop(),a.keyPath=a.treeNodePath.map(g=>g.key),a}function Gt(e){if(e.length===0)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}function $t(e,t){const n=e.siblings,i=n.length,{index:o}=e;return t?n[(o+1)%i]:o===n.length-1?null:n[o+1]}function Ce(e,t,{loop:n=!1,includeDisabled:i=!1}={}){const o=t==="prev"?Vt:$t,l={reverse:t==="prev"};let r=!1,a=null;function g(f){if(f!==null){if(f===e){if(!r)r=!0;else if(!e.disabled&&!e.isGroup){a=e;return}}else if((!f.disabled||i)&&!f.ignored&&!f.isGroup){a=f;return}if(f.isGroup){const u=ge(f,l);u!==null?a=u:g(o(f,n))}else{const u=o(f,!1);if(u!==null)g(u);else{const h=jt(f);h!=null&&h.isGroup?g(o(h,n)):n&&g(o(f,!0))}}}}return g(e),a}function Vt(e,t){const n=e.siblings,i=n.length,{index:o}=e;return t?n[(o-1+i)%i]:o===0?null:n[o-1]}function jt(e){return e.parent}function ge(e,t={}){const{reverse:n=!1}=t,{children:i}=e;if(i){const{length:o}=i,l=n?o-1:0,r=n?-1:o,a=n?-1:1;for(let g=l;g!==r;g+=a){const f=i[g];if(!f.disabled&&!f.ignored)if(f.isGroup){const u=ge(f,t);if(u!==null)return u}else return f}}return null}const Dt={getChild(){return this.ignored?null:ge(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Ce(this,"next",e)},getPrev(e={}){return Ce(this,"prev",e)}};function Wt(e,t){const n=t?new Set(t):void 0,i=[];function o(l){l.forEach(r=>{i.push(r),!(r.isLeaf||!r.children||r.ignored)&&(r.isGroup||n===void 0||n.has(r.key))&&o(r.children)})}return o(e),i}function qt(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}function Oe(e,t,n,i,o,l=null,r=0){const a=[];return e.forEach((g,f)=>{var u;const h=Object.create(i);if(h.rawNode=g,h.siblings=a,h.level=r,h.index=f,h.isFirstChild=f===0,h.isLastChild=f+1===e.length,h.parent=l,!h.ignored){const S=o(g);Array.isArray(S)&&(h.children=Oe(S,t,n,i,o,h,r+1))}a.push(h),t.set(h.key,h),n.has(r)||n.set(r,[]),(u=n.get(r))===null||u===void 0||u.push(h)}),a}function tn(e,t={}){var n;const i=new Map,o=new Map,{getDisabled:l=Lt,getIgnored:r=Tt,getIsGroup:a=Ft,getKey:g=zt}=t,f=(n=t.getChildren)!==null&&n!==void 0?n:Nt,u=t.ignoreEmptyChildren?v=>{const p=f(v);return Array.isArray(p)?p.length?p:null:p}:f,h=Object.assign({get key(){return g(this.rawNode)},get disabled(){return l(this.rawNode)},get isGroup(){return a(this.rawNode)},get isLeaf(){return Rt(this.rawNode,u)},get shallowLoaded(){return Pt(this.rawNode,u)},get ignored(){return r(this.rawNode)},contains(v){return qt(this,v)}},Dt),S=Oe(e,i,o,h,u);function E(v){if(v==null)return null;const p=i.get(v);return p&&!p.isGroup&&!p.ignored?p:null}function y(v){if(v==null)return null;const p=i.get(v);return p&&!p.ignored?p:null}function N(v,p){const L=y(v);return L?L.getPrev(p):null}function K(v,p){const L=y(v);return L?L.getNext(p):null}function w(v){const p=y(v);return p?p.getParent():null}function C(v){const p=y(v);return p?p.getChild():null}const I={treeNodes:S,treeNodeMap:i,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:u,getFlattenedNodes(v){return Wt(S,v)},getNode:E,getPrev:N,getNext:K,getParent:w,getChild:C,getFirstAvailableNode(){return Gt(S)},getPath(v,p={}){return Ht(v,p,I)},getCheckedKeys(v,p={}){const{cascade:L=!0,leafOnly:B=!1,checkStrategy:_="all",allowNotLoaded:A=!1}=p;return de({checkedKeys:se(v),indeterminateKeys:ae(v),cascade:L,leafOnly:B,checkStrategy:_,allowNotLoaded:A},I)},check(v,p,L={}){const{cascade:B=!0,leafOnly:_=!1,checkStrategy:A="all",allowNotLoaded:z=!1}=L;return de({checkedKeys:se(p),indeterminateKeys:ae(p),keysToCheck:v==null?[]:ke(v),cascade:B,leafOnly:_,checkStrategy:A,allowNotLoaded:z},I)},uncheck(v,p,L={}){const{cascade:B=!0,leafOnly:_=!1,checkStrategy:A="all",allowNotLoaded:z=!1}=L;return de({checkedKeys:se(p),indeterminateKeys:ae(p),keysToUncheck:v==null?[]:ke(v),cascade:B,leafOnly:_,checkStrategy:A,allowNotLoaded:z},I)},getNonLeafKeys(v={}){return Ct(S,v)}};return I}const Ut=$("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[j("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[U("+",[j("description",`
 margin-top: 8px;
 `)])]),j("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),j("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),Yt=Object.assign(Object.assign({},Q.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Zt=D({name:"Empty",props:Yt,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=et(e),i=Q("Empty","-empty",Ut,tt,e,t),{localeRef:o}=vt("Empty"),l=he(nt,null),r=O(()=>{var u,h,S;return(u=e.description)!==null&&u!==void 0?u:(S=(h=l==null?void 0:l.mergedComponentPropsRef.value)===null||h===void 0?void 0:h.Empty)===null||S===void 0?void 0:S.description}),a=O(()=>{var u,h;return((h=(u=l==null?void 0:l.mergedComponentPropsRef.value)===null||u===void 0?void 0:u.Empty)===null||h===void 0?void 0:h.renderIcon)||(()=>b(wt,null))}),g=O(()=>{const{size:u}=e,{common:{cubicBezierEaseInOut:h},self:{[q("iconSize",u)]:S,[q("fontSize",u)]:E,textColor:y,iconColor:N,extraTextColor:K}}=i.value;return{"--n-icon-size":S,"--n-font-size":E,"--n-bezier":h,"--n-text-color":y,"--n-icon-color":N,"--n-extra-text-color":K}}),f=n?Te("empty",O(()=>{let u="";const{size:h}=e;return u+=h[0],u}),g,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:a,localizedDescription:O(()=>r.value||o.value.description),cssVars:n?void 0:g,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),b("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?b("div",{class:`${t}-empty__icon`},e.icon?e.icon():b(Pe,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?b("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?b("div",{class:`${t}-empty__extra`},e.extra()):null)}});function Xt(e,t){return b(it,{name:"fade-in-scale-up-transition"},{default:()=>e?b(Pe,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>b(xt)}):null})}const Re=D({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:i,valueSetRef:o,renderLabelRef:l,renderOptionRef:r,labelFieldRef:a,valueFieldRef:g,showCheckmarkRef:f,nodePropsRef:u,handleOptionClick:h,handleOptionMouseEnter:S}=he(ve),E=J(()=>{const{value:w}=n;return w?e.tmNode.key===w.key:!1});function y(w){const{tmNode:C}=e;C.disabled||h(w,C)}function N(w){const{tmNode:C}=e;C.disabled||S(w,C)}function K(w){const{tmNode:C}=e,{value:I}=E;C.disabled||I||S(w,C)}return{multiple:i,isGrouped:J(()=>{const{tmNode:w}=e,{parent:C}=w;return C&&C.rawNode.type==="group"}),showCheckmark:f,nodeProps:u,isPending:E,isSelected:J(()=>{const{value:w}=t,{value:C}=i;if(w===null)return!1;const I=e.tmNode.rawNode[g.value];if(C){const{value:v}=o;return v.has(I)}else return w===I}),labelField:a,renderLabel:l,renderOption:r,handleMouseMove:K,handleMouseEnter:N,handleClick:y}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:i,isGrouped:o,showCheckmark:l,nodeProps:r,renderOption:a,renderLabel:g,handleClick:f,handleMouseEnter:u,handleMouseMove:h}=this,S=Xt(n,e),E=g?[g(t,n),l&&S]:[Le(t[this.labelField],t,n),l&&S],y=r==null?void 0:r(t),N=b("div",Object.assign({},y,{class:[`${e}-base-select-option`,t.class,y==null?void 0:y.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:o,[`${e}-base-select-option--pending`]:i,[`${e}-base-select-option--show-checkmark`]:l}],style:[(y==null?void 0:y.style)||"",t.style||""],onClick:re([f,y==null?void 0:y.onClick]),onMouseenter:re([u,y==null?void 0:y.onMouseenter]),onMousemove:re([h,y==null?void 0:y.onMousemove])}),b("div",{class:`${e}-base-select-option__content`},E));return t.render?t.render({node:N,option:t,selected:n}):a?a({node:N,option:t,selected:n}):N}}),Ne=D({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:i}=he(ve);return{labelField:n,nodeProps:i,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:i,tmNode:{rawNode:o}}=this,l=i==null?void 0:i(o),r=t?t(o,!1):Le(o[this.labelField],o,!1),a=b("div",Object.assign({},l,{class:[`${e}-base-select-group-header`,l==null?void 0:l.class]}),r);return o.render?o.render({node:a,option:o}):n?n({node:a,option:o,selected:!1}):a}}),Jt=$("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[$("scrollbar",`
 max-height: var(--n-height);
 `),$("virtual-list",`
 max-height: var(--n-height);
 `),$("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[j("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),$("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),$("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),j("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),j("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),j("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),$("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),$("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[W("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),U("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),U("&:active",`
 color: var(--n-option-text-color-pressed);
 `),W("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),W("pending",[U("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),W("selected",`
 color: var(--n-option-text-color-active);
 `,[U("&::before",`
 background-color: var(--n-option-color-active);
 `),W("pending",[U("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),W("disabled",`
 cursor: not-allowed;
 `,[ot("selected",`
 color: var(--n-option-text-color-disabled);
 `),W("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),j("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[rt({enterScale:"0.5"})])])]),nn=D({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Q.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=Q("InternalSelectMenu","-internal-select-menu",Jt,lt,e,G(e,"clsPrefix")),n=V(null),i=V(null),o=V(null),l=O(()=>e.treeMate.getFlattenedNodes()),r=O(()=>Et(l.value)),a=V(null);function g(){const{treeMate:s}=e;let c=null;const{value:R}=e;R===null?c=s.getFirstAvailableNode():(e.multiple?c=s.getNode((R||[])[(R||[]).length-1]):c=s.getNode(R),(!c||c.disabled)&&(c=s.getFirstAvailableNode())),d(c||null)}function f(){const{value:s}=a;s&&!e.treeMate.getNode(s.key)&&(a.value=null)}let u;ye(()=>e.show,s=>{s?u=ye(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?g():f(),ut(m)):f()},{immediate:!0}):u==null||u()},{immediate:!0}),ze(()=>{u==null||u()});const h=O(()=>ce(t.value.self[q("optionHeight",e.size)])),S=O(()=>ie(t.value.self[q("padding",e.size)])),E=O(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),y=O(()=>{const s=l.value;return s&&s.length===0});function N(s){const{onToggle:c}=e;c&&c(s)}function K(s){const{onScroll:c}=e;c&&c(s)}function w(s){var c;(c=o.value)===null||c===void 0||c.sync(),K(s)}function C(){var s;(s=o.value)===null||s===void 0||s.sync()}function I(){const{value:s}=a;return s||null}function v(s,c){c.disabled||d(c,!1)}function p(s,c){c.disabled||N(c)}function L(s){var c;Se(s,"action")||(c=e.onKeyup)===null||c===void 0||c.call(e,s)}function B(s){var c;Se(s,"action")||(c=e.onKeydown)===null||c===void 0||c.call(e,s)}function _(s){var c;(c=e.onMousedown)===null||c===void 0||c.call(e,s),!e.focusable&&s.preventDefault()}function A(){const{value:s}=a;s&&d(s.getNext({loop:!0}),!0)}function z(){const{value:s}=a;s&&d(s.getPrev({loop:!0}),!0)}function d(s,c=!1){a.value=s,c&&m()}function m(){var s,c;const R=a.value;if(!R)return;const H=r.value(R.key);H!==null&&(e.virtualScroll?(s=i.value)===null||s===void 0||s.scrollTo({index:H}):(c=o.value)===null||c===void 0||c.scrollTo({index:H,elSize:h.value}))}function x(s){var c,R;!((c=n.value)===null||c===void 0)&&c.contains(s.target)&&((R=e.onFocus)===null||R===void 0||R.call(e,s))}function T(s){var c,R;!((c=n.value)===null||c===void 0)&&c.contains(s.relatedTarget)||(R=e.onBlur)===null||R===void 0||R.call(e,s)}be(ve,{handleOptionMouseEnter:v,handleOptionClick:p,valueSetRef:E,pendingTmNodeRef:a,nodePropsRef:G(e,"nodeProps"),showCheckmarkRef:G(e,"showCheckmark"),multipleRef:G(e,"multiple"),valueRef:G(e,"value"),renderLabelRef:G(e,"renderLabel"),renderOptionRef:G(e,"renderOption"),labelFieldRef:G(e,"labelField"),valueFieldRef:G(e,"valueField")}),be(gt,n),fe(()=>{const{value:s}=o;s&&s.sync()});const P=O(()=>{const{size:s}=e,{common:{cubicBezierEaseInOut:c},self:{height:R,borderRadius:H,color:Y,groupHeaderTextColor:Fe,actionDividerColor:Ee,optionTextColorPressed:Ke,optionTextColor:Ae,optionTextColorDisabled:_e,optionTextColorActive:Be,optionOpacityDisabled:He,optionCheckColor:Ge,actionTextColor:$e,optionColorPending:Ve,optionColorActive:je,loadingColor:De,loadingSize:We,optionColorActivePending:qe,[q("optionFontSize",s)]:Ue,[q("optionHeight",s)]:Ye,[q("optionPadding",s)]:ne}}=t.value;return{"--n-height":R,"--n-action-divider-color":Ee,"--n-action-text-color":$e,"--n-bezier":c,"--n-border-radius":H,"--n-color":Y,"--n-option-font-size":Ue,"--n-group-header-text-color":Fe,"--n-option-check-color":Ge,"--n-option-color-pending":Ve,"--n-option-color-active":je,"--n-option-color-active-pending":qe,"--n-option-height":Ye,"--n-option-opacity-disabled":He,"--n-option-text-color":Ae,"--n-option-text-color-active":Be,"--n-option-text-color-disabled":_e,"--n-option-text-color-pressed":Ke,"--n-option-padding":ne,"--n-option-padding-left":ie(ne,"left"),"--n-option-padding-right":ie(ne,"right"),"--n-loading-color":De,"--n-loading-size":We}}),{inlineThemeDisabled:M}=e,k=M?Te("internal-select-menu",O(()=>e.size[0]),P,e):void 0,F={selfRef:n,next:A,prev:z,getPendingTmNode:I};return St(n,e.onResize),Object.assign({mergedTheme:t,virtualListRef:i,scrollbarRef:o,itemSize:h,padding:S,flattenedNodes:l,empty:y,virtualListContainer(){const{value:s}=i;return s==null?void 0:s.listElRef},virtualListContent(){const{value:s}=i;return s==null?void 0:s.itemsElRef},doScroll:K,handleFocusin:x,handleFocusout:T,handleKeyUp:L,handleKeyDown:B,handleMouseDown:_,handleVirtualListResize:C,handleVirtualListScroll:w,cssVars:M?void 0:P,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender},F)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:i,themeClass:o,onRender:l}=this;return l==null||l(),b("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,o,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?b("div",{class:`${n}-base-select-menu__loading`},b(at,{clsPrefix:n,strokeWidth:20})):this.empty?b("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},ct(e.empty,()=>[b(Zt,{theme:i.peers.Empty,themeOverrides:i.peerOverrides.Empty})])):b(dt,{ref:"scrollbarRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?b(bt,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:r})=>r.isGroup?b(Ne,{key:r.key,clsPrefix:n,tmNode:r}):r.ignored?null:b(Re,{clsPrefix:n,key:r.key,tmNode:r})}):b("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(r=>r.isGroup?b(Ne,{key:r.key,clsPrefix:n,tmNode:r}):b(Re,{clsPrefix:n,key:r.key,tmNode:r})))}),st(e.action,r=>r&&[b("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},r),b(kt,{onFocus:this.onTabOut,key:"focus-detector"})]))}});function te(e){return e.type==="group"}function Ie(e){return e.type==="ignored"}function on(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function rn(e,t){return{getIsGroup:te,getIgnored:Ie,getKey(i){return te(i)?i.name||i.key||"key-required":i[e]},getChildren(i){return i[t]}}}function ln(e,t,n,i){if(!t)return e;function o(l){if(!Array.isArray(l))return[];const r=[];for(const a of l)if(te(a)){const g=o(a[i]);g.length&&r.push(Object.assign({},a,{[i]:g}))}else{if(Ie(a))continue;t(n,a)&&r.push(a)}return r}return o(e)}function sn(e,t,n){const i=new Map;return e.forEach(o=>{te(o)?o[n].forEach(l=>{i.set(l[t],l)}):i.set(o[t],o)}),i}export{xt as F,nn as N,Kt as S,bt as V,rn as a,sn as b,tn as c,kt as d,Zt as e,ln as f,Se as h,re as m,on as p,St as u};
