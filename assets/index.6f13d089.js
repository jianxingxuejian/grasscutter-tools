import{t as W,a as I,b$ as ce,b as G,d as B,e as ie,u as X,g as L,i as le,h as q,bd as re,T as de,c9 as ue,b9 as _e,ae as pe,C as S,D as P,E as _,V as Y,H as D,G as R,r as C,M as F,J as b,I as c,K as s,bs as ee,ca as te,bg as Z,b3 as V,cb as he,cc as me,a3 as fe,bD as A,cd as ve,z as ge,b5 as we,ce as be,cf as $e,cg as xe}from"./index.e3dec88d.js";import{_ as ke}from"./MyButton.vuevuetypescriptsetuptruelang.08cdc8d8.js";import{_ as ye}from"./ServerInput.vuevuetypescriptsetuptruelang.f497d547.js";import{r as U,s as qe,_ as Ce,i as Se,a as j,p as K,b as J}from"./SelectFile.vuevuetypescriptsetuptruelang.6b7f3066.js";import{_ as ze}from"./Checkbox.6a70db2b.js";import{_ as Me}from"./plugin-vueexport-helper.2444895f.js";import{a as Pe}from"./Tooltip.bebdf9ac.js";import{_ as ne}from"./Space.7635386f.js";import{_ as Ie}from"./Tag.d7f7f632.js";import{a as Ze}from"./Switch.178e293d.js";import"./request.3edbc2f3.js";import"./Dropdown.e475eeb0.js";import"./utils.df8cf03b.js";import"./ChevronRight.a1d48f4f.js";import"./InputGroupLabel.17508e5b.js";import"./get-slot.8207e825.js";const Te=W([W("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),I("spin-container",{position:"relative"},[I("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[ce()])]),I("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),I("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[G("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),I("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),I("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[G("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),Ve={small:20,medium:18,large:16},Be=Object.assign(Object.assign({},X.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),He=B({name:"Spin",props:Be,setup(n){const{mergedClsPrefixRef:a,inlineThemeDisabled:t}=ie(n),i=X("Spin","-spin",Te,ue,n,a),e=L(()=>{const{size:o}=n,{common:{cubicBezierEaseInOut:d},self:l}=i.value,{opacitySpinning:m,color:w,textColor:g}=l,k=typeof o=="number"?_e(o):l[pe("size",o)];return{"--n-bezier":d,"--n-opacity-spinning":m,"--n-size":k,"--n-color":w,"--n-text-color":g}}),p=t?le("spin",L(()=>{const{size:o}=n;return typeof o=="number"?String(o):o[0]}),e,n):void 0;return{mergedClsPrefix:a,compitableShow:Pe(n,["spinning","show"]),mergedStrokeWidth:L(()=>{const{strokeWidth:o}=n;if(o!==void 0)return o;const{size:d}=n;return Ve[typeof d=="number"?"medium":d]}),cssVars:t?void 0:e,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender}},render(){var n,a;const{$slots:t,mergedClsPrefix:i,description:e}=this,p=t.icon&&this.rotate,o=(e||t.description)&&q("div",{class:`${i}-spin-description`},e||((n=t.description)===null||n===void 0?void 0:n.call(t))),d=t.icon?q("div",{class:[`${i}-spin-body`,this.themeClass]},q("div",{class:[`${i}-spin`,p&&`${i}-spin--rotate`],style:t.default?"":this.cssVars},t.icon()),o):q("div",{class:[`${i}-spin-body`,this.themeClass]},q(re,{clsPrefix:i,style:t.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${i}-spin`}),o);return(a=this.onRender)===null||a===void 0||a.call(this),t.default?q("div",{class:[`${i}-spin-container`,this.themeClass],style:this.cssVars},q("div",{class:[`${i}-spin-content`,this.compitableShow&&`${i}-spin-content--spinning`]},t),q(de,{name:"fade-in-transition"},{default:()=>this.compitableShow?d:null})):d}}),Le={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Ue=_("path",{fill:"currentColor",d:"M7.1 11.35q.35-.7.725-1.35q.375-.65.825-1.3l-1.4-.275l-2.1 2.1Zm12.05-6.875q-1.75.05-3.737 1.025q-1.988.975-3.613 2.6q-1.05 1.05-1.875 2.25T8.7 12.6l2.85 2.825q1.05-.4 2.25-1.225q1.2-.825 2.25-1.875q1.625-1.625 2.6-3.6Q19.625 6.75 19.675 5q0-.1-.037-.2q-.038-.1-.113-.175q-.075-.075-.175-.113q-.1-.037-.2-.037Zm-5.5 6q-.575-.575-.575-1.413q0-.837.575-1.412t1.425-.575q.85 0 1.425.575q.575.575.575 1.412q0 .838-.575 1.413q-.575.575-1.425.575q-.85 0-1.425-.575Zm-.85 6.55L13.625 19l2.1-2.1l-.275-1.4q-.65.45-1.3.812q-.65.363-1.35.713Zm8.775-13.35q.2 2.75-.9 5.362q-1.1 2.613-3.475 4.988l.5 2.475q.1.5-.05.975q-.15.475-.5.825L14 21.45q-.375.375-.9.287q-.525-.087-.725-.587l-1.525-3.575L6.575 13.3L3 11.775q-.5-.2-.6-.725q-.1-.525.275-.9L5.825 7q.35-.35.838-.5q.487-.15.987-.05l2.475.5q2.375-2.375 4.988-3.475q2.612-1.1 5.362-.9q.2.025.4.112q.2.088.35.238q.15.15.237.35q.088.2.113.4Zm-17.65 12.3q.875-.875 2.137-.888q1.263-.012 2.138.863t.862 2.137q-.012 1.263-.887 2.138q-.625.625-2.087 1.075q-1.463.45-4.038.8q.35-2.575.8-4.038q.45-1.462 1.075-2.087Zm1.425 1.4q-.25.25-.5.913q-.25.662-.35 1.337q.675-.1 1.338-.337q.662-.238.912-.488q.3-.3.325-.725q.025-.425-.275-.725q-.3-.3-.725-.288q-.425.013-.725.313Z"},null,-1),Re=[Ue];function Ae(n,a){return S(),P("svg",Le,Re)}const Ne={name:"material-symbols-rocket-launch-outline-rounded",render:Ae},De={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Ee=Y('<g fill="none" stroke="currentColor" stroke-dasharray="18" stroke-dashoffset="18" stroke-linecap="round" stroke-width="2"><path d="M12 5V19"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.3s" values="18;0"></animate></path><path d="M5 12H19"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="18;0"></animate></path></g>',1),Oe=[Ee];function We(n,a){return S(),P("svg",De,Oe)}const Ge={name:"line-md-plus",render:We},je={class:"inline-block",viewBox:"0 0 48 48",width:"1em",height:"1em"},Ke=["id"],Je=Y('<g fill="none"><path fill="#fff" d="M23.794 44.518c-3.659 0-7.017-1.225-9.179-3.053c-1.098.328-2.502.855-3.389 1.51c-.759.56-.664 1.13-.527 1.361c.6 1.013 10.296.647 13.095.332v-.15Zm0 0c3.659 0 7.016-1.225 9.179-3.053c1.097.328 2.502.855 3.389 1.51c.758.56.663 1.13.526 1.361c-.6 1.013-10.295.647-13.094.332v-.15Z"></path><path fill="#fff" d="M23.814 22.591c6.042-.04 10.884-1.21 12.525-1.658c.39-.107.6-.3.6-.3c.001-.055.025-.983.025-1.462c0-8.066-3.808-16.17-13.172-16.171c-9.364 0-13.171 8.105-13.171 16.171c0 .48.023 1.407.025 1.462c0 0 .17.18.481.267c1.515.421 6.448 1.65 12.643 1.691h.044Zm16.418 6.72c-.375-1.206-.886-2.61-1.404-3.96c0 0-.297-.037-.448.006c-4.645 1.35-10.275 2.21-14.566 2.158h-.044c-4.267.05-9.858-.8-14.488-2.136c-.177-.05-.526-.029-.526-.029c-.518 1.35-1.029 2.756-1.403 3.96c-1.786 5.748-1.208 8.126-.767 8.18c.945.114 3.68-4.327 3.68-4.327c0 4.513 4.073 11.441 13.403 11.505h.247c9.329-.064 13.403-6.992 13.403-11.505c0 0 2.734 4.44 3.68 4.327c.44-.054 1.019-2.432-.767-8.18Z"></path><path fill="#000" d="M20.46 14.916c-1.27.057-2.355-1.39-2.423-3.23c-.07-1.84.904-3.378 2.174-3.436c1.27-.057 2.354 1.39 2.423 3.23c.07 1.84-.904 3.38-2.174 3.436Zm9.088-3.23c-.068 1.84-1.153 3.287-2.424 3.23c-1.27-.057-2.242-1.595-2.173-3.436c.069-1.84 1.154-3.286 2.423-3.23c1.27.058 2.243 1.596 2.174 3.437Zm2.257 5.828c-.34-.751-3.758-1.59-7.99-1.59h-.046c-4.232 0-7.65.839-7.99 1.59a.253.253 0 0 0-.025.108c0 .052.017.102.047.145c.286.416 4.082 2.477 7.968 2.477h.046c3.886 0 7.682-2.06 7.968-2.477a.256.256 0 0 0 .047-.146a.25.25 0 0 0-.025-.106"></path><path fill="#fff" d="M22.022 11.714c.058.727-.34 1.373-.89 1.443c-.549.07-1.04-.461-1.1-1.188c-.057-.727.341-1.373.89-1.443c.55-.071 1.042.461 1.1 1.188Zm3.49.243c.112-.201.877-1.259 2.46-.874c.415.102.608.25.648.309c.06.086.077.21.016.375c-.12.329-.369.32-.506.256c-.09-.042-1.192-.777-2.208.32c-.07.075-.195.1-.313.012c-.119-.09-.167-.272-.097-.398Z"></path><path fill="#000" d="M23.814 27.25h-.045c-2.918.035-6.455-.351-9.882-1.027c-.293 1.699-.47 3.834-.318 6.38c.384 6.433 4.205 10.478 10.104 10.536h.24c5.898-.058 9.718-4.103 10.103-10.537c.152-2.546-.025-4.68-.319-6.379c-3.426.676-6.965 1.063-9.883 1.027"></path><path fill="#fff" d="M15.504 26.712v6.332s2.9.585 5.807.18v-5.841a53.39 53.39 0 0 1-5.807-.671Z"></path><path fill="#fff" d="M36.938 20.634s-5.642 1.78-13.124 1.831h-.044c-7.47-.05-13.105-1.825-13.124-1.831l-1.89 4.716c4.726 1.425 10.584 2.343 15.014 2.29h.044c4.43.053 10.287-.865 15.014-2.29l-1.89-4.716Z"></path></g>',1),Qe=[Je],Xe=["mask"];function Ye(n,a){return S(),P("svg",je,[_("mask",{id:n.idMap.svgIDa},Qe,8,Ke),_("path",{fill:"currentColor",d:"M0 0h48v48H0z",mask:"url(#"+n.idMap.svgIDa+")"},null,8,Xe)])}const Fe={name:"icon-park-solid-tencent-qq",render:Ye,data(){return{idMap:{svgIDa:"uicons-"+(()=>Math.random().toString(36).substr(2,10))()}}}},et={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"},tt=_("path",{fill:"currentColor",d:"M25.7 7.1C23.9 6.3 22 5.7 20 5.3h-.1c-.2.4-.5 1-.7 1.5c-2.2-.3-4.3-.3-6.4 0c-.2-.5-.5-1-.7-1.5H12c-2 .3-3.9.9-5.7 1.8C2.7 12.5 1.7 17.8 2.2 23v.1c2.4 1.8 4.7 2.8 7 3.5h.1c.5-.7 1-1.5 1.4-2.3v-.1c-.8-.3-1.5-.6-2.2-1c-.1 0-.1-.1 0-.1c.1-.1.3-.2.4-.3H9c4.6 2.1 9.5 2.1 14.1 0h.1c.1.1.3.2.4.3c.1 0 0 .1 0 .1c-.7.4-1.4.8-2.2 1c0 0-.1.1 0 .1c.4.8.9 1.6 1.4 2.3h.1c2.3-.7 4.6-1.8 7-3.5V23c.6-6-1-11.2-4.2-15.9zM11.4 19.9c-1.4 0-2.5-1.3-2.5-2.8s1.1-2.8 2.5-2.8s2.5 1.3 2.5 2.8c0 1.5-1.1 2.8-2.5 2.8zm9.3 0c-1.4 0-2.5-1.3-2.5-2.8s1.1-2.8 2.5-2.8s2.5 1.3 2.5 2.8c0 1.5-1.1 2.8-2.5 2.8z"},null,-1),nt=[tt];function st(n,a){return S(),P("svg",et,nt)}const ot={name:"carbon-logo-discord",render:st},at={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"},ct=_("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2Z"},null,-1),it=[ct];function lt(n,a){return S(),P("svg",at,it)}const rt={name:"carbon-logo-github",render:lt},dt={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"},ut=_("path",{fill:"currentColor",d:"M24 24v2h2.46A5.94 5.94 0 0 1 22 28a6.007 6.007 0 0 1-6-6h-2a7.984 7.984 0 0 0 14 5.265V30h2v-6zm-2-10a8.04 8.04 0 0 0-6 2.735V14h-2v6h6v-2h-2.46A5.94 5.94 0 0 1 22 16a6.007 6.007 0 0 1 6 6h2a8.01 8.01 0 0 0-8-8z"},null,-1),_t=_("path",{fill:"currentColor",d:"M12 28H6v-4h2v-2H6v-5h2v-2H6v-5h2V8H6V4h18v8h2V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4H2v2h2v5H2v2h2v5H2v2h2v4a2 2 0 0 0 2 2h6Z"},null,-1),pt=[ut,_t];function ht(n,a){return S(),P("svg",dt,pt)}const mt={name:"carbon-change-catalog",render:ht},ft={class:"flex-col items-center gap-y-5"},vt={class:"flex-center w-full"},gt={class:"flex-center w-full"},wt={class:"flex-center w-full"},bt=B({__name:"StartupItems",setup(n,{expose:a}){a({show:g,launcherAll:u});const{t}=D(),i=R(),{launcher:e,mod:p,updateGamePath:o,updateModPath:d,updateAkebiPath:l,updateLauncher:m}=i,w=C(!1);function g(){w.value=!0}const k=()=>r(o),z=()=>r(d),v=()=>r(l);async function r(f){const h=await qe();h&&await f(h)}async function u(){var f;try{const h=p.path;h&&e.modStart&&await U(h);const x=e.akebiPath;if(x&&e.akebiStart)await U(x);else{const $=e.gamePath;$&&e.gameStart&&await U($)}}catch(h){(f=window.$message)==null||f.error(h)}}return(f,h)=>{const x=ze,$=Ce,M=te;return S(),F(M,{show:s(w),"onUpdate:show":h[3]||(h[3]=y=>ee(w)?w.value=y:null),preset:"card",title:s(t)("startup items"),"auto-focus":!1,class:"w-70%"},{default:b(()=>[_("div",ft,[_("div",vt,[c(x,{checked:s(e).gameStart,"onUpdate:checked":[h[0]||(h[0]=y=>s(e).gameStart=y),s(m)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),c($,{value:s(e).gamePath,"button-text":s(t)("select"),placeholder:s(t)("select game"),onClick:k},null,8,["value","button-text","placeholder"])]),_("div",gt,[c(x,{checked:s(e).modStart,"onUpdate:checked":[h[1]||(h[1]=y=>s(e).modStart=y),s(m)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),c($,{value:s(p).path,"button-text":s(t)("select"),placeholder:s(t)("select 3dm"),onClick:z},null,8,["value","button-text","placeholder"])]),_("div",wt,[c(x,{checked:s(e).akebiStart,"onUpdate:checked":[h[2]||(h[2]=y=>s(e).akebiStart=y),s(m)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),c($,{value:s(e).akebiPath,"button-text":s(t)("select"),placeholder:s(t)("select akebi"),onClick:v},null,8,["value","button-text","placeholder"])])])]),_:1},8,["show","title"])}}});const $t=Me(bt,[["__scopeId","data-v-e60a3e73"]]);var xt={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function Q(n){return n.replace(RegExp("^"+(n.match(/^(\t| )+/)||"")[0],"gm"),"")}function T(n){return(n+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function N(n,a){var t,i,e,p,o,d=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,l=[],m="",w=a||{},g=0;function k(v){var r=xt[v[1]||""],u=l[l.length-1]==v;return r?r[1]?(u?l.pop():l.push(v),r[0|u]):r[0]:v}function z(){for(var v="";l.length;)v+=k(l[l.length-1]);return v}for(n=n.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(v,r,u){return w[r.toLowerCase()]=u,""}).replace(/^\n+|\n+$/g,"");e=d.exec(n);)i=n.substring(g,e.index),g=d.lastIndex,t=e[0],i.match(/[^\\](\\\\)*\\$/)||((o=e[3]||e[4])?t='<pre class="code '+(e[4]?"poetry":e[2].toLowerCase())+'"><code'+(e[2]?' class="language-'+e[2].toLowerCase()+'"':"")+">"+Q(T(o).replace(/^\n+|\n+$/g,""))+"</code></pre>":(o=e[6])?(o.match(/\./)&&(e[5]=e[5].replace(/^\d+/gm,"")),p=N(Q(e[5].replace(/^\s*[>*+.-]/gm,""))),o==">"?o="blockquote":(o=o.match(/\./)?"ol":"ul",p=p.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),t="<"+o+">"+p+"</"+o+">"):e[8]?t='<img src="'+T(e[8])+'" alt="'+T(e[7])+'">':e[10]?(m=m.replace("<a>",'<a href="'+T(e[11]||w[i.toLowerCase()])+'">'),t=z()+"</a>"):e[9]?t="<a>":e[12]||e[14]?t="<"+(o="h"+(e[14]?e[14].length:e[13]>"="?1:2))+">"+N(e[12]||e[15],w)+"</"+o+">":e[16]?t="<code>"+T(e[16])+"</code>":(e[17]||e[1])&&(t=k(e[17]||"--"))),m+=i,m+=t;return(m+n.substring(g)+z()).replace(/^\n+|\n+$/g,"")}const kt={class:"flex-col items-center"},yt={class:"text-5"},qt=_("div",{id:"content"},null,-1),Ct=B({__name:"Updater",setup(n,{expose:a}){const{t}=D(),i=C(!1),e=C(!1);async function p(){var d,l;try{i.value=!0,await he(),(d=window.$dialog)==null||d.success({title:t("install successful"),content:t("whether relaunch"),negativeText:t("cancel"),positiveText:t("relaunch"),onPositiveClick:()=>me()})}catch(m){(l=window.$notification)==null||l.error({title:t("failed to update"),description:`error: ${m}`,content:t("try again")})}finally{i.value=!1}}function o(d){d&&(e.value=!0,fe(()=>{const l=document.getElementById("content");l&&(l.innerHTML=N(d))}))}return a({open:o}),(d,l)=>{const m=A,w=ne,g=He,k=ve,z=te;return S(),F(z,{show:s(e),"onUpdate:show":l[1]||(l[1]=v=>ee(e)?e.value=v:null),"mask-closable":!1,class:"w-50%"},{default:b(()=>[c(k,null,{default:b(()=>[c(g,{show:s(i)},{default:b(()=>[_("div",kt,[_("div",yt,Z(s(t)("new ver discover")),1),qt,c(w,{class:"flex-center mt-4"},{default:b(()=>[c(m,{onClick:l[0]||(l[0]=v=>e.value=!1)},{default:b(()=>[V(Z(s(t)("cancel")),1)]),_:1}),c(m,{type:"success",onClick:p},{default:b(()=>[V(Z(s(t)("update")),1)]),_:1})]),_:1})])]),_:1},8,["show"])]),_:1})]),_:1},8,["show"])}}});const St={class:"flex-col px-10 gap-y-4"},zt={class:"flex items-center"},Mt={class:"text-8"},Pt={class:"flex-center grow"},It=_("span",{class:"text-8 flex-center"},"Grasscutter-Tools",-1),Zt={class:"ml-auto flex text-8 gap-x-2"},Tt={class:"flex-center"},Vt={class:"text-5"},Bt={class:"flex-center"},Yt=B({__name:"index",setup(n){const{t:a}=D(),t=C(""),i=C(!1),e=C(),p=R(),{updateCheckTime:o,getServer:d}=R(),l=C(),m=C();async function w(){var r,u;try{const f=await Se();(r=window.$message)==null||r.success(f)}catch(f){(u=window.$message)==null||u.error(f)}}const g=C(!1);async function k(r){var u;try{r?(await j(d),await K(),g.value=!0):(await J(),g.value=!1)}catch(f){(u=window.$message)==null||u.error(f)}}async function z(){var r;await j(d),await K(),g.value=!0,(r=m.value)==null||r.launcherAll()}async function v(r){var h,x;const u=Date.now(),f=p.update.lastCheckTime;if(r||!f||f&&f+864e5<u)try{const{shouldUpdate:$,manifest:M}=await $e();o(u),$&&(M==null?void 0:M.body)?(e.value=JSON.parse(M.body)[p.locale],i.value=!0):(h=window.$message)==null||h.success(a("latest ver now"))}catch($){(x=window.$notification)==null||x.error({title:a("failed get update info"),description:`error: ${$}`,content:a("retry manually")})}}return ge(()=>{var r;if(i.value){const u=(r=window.$notification)==null?void 0:r.info({title:a("new ver discover"),content:a("whether upgrade"),action:()=>q(A,{text:!0,type:"primary",onClick:()=>{var f;u==null||u.destroy(),(f=l.value)==null||f.open(e.value)}},{default:()=>a("confirm")})})}}),we(async()=>{t.value=await xe(),v()}),be(window,"beforeunload",()=>{g.value&&J()}),(r,u)=>{const f=mt,h=Ie,x=rt,$=ot,M=Fe,y=ye,se=Ze,E=ne,oe=Ge,O=ke,ae=Ne;return S(),P("div",St,[_("div",zt,[_("div",Mt,[c(f)]),_("div",Pt,[It,c(h,{type:"success",size:"large",class:"ml-2 cursor-pointer",onClick:u[0]||(u[0]=H=>v(!0))},{default:b(()=>[V(" v"+Z(s(t)),1)]),_:1})]),_("div",Zt,[c(x),c($),c(M)])]),c(s(Ct),{ref_key:"updaterRef",ref:l},null,512),c(s($t),{ref_key:"startupItemsRef",ref:m},null,512),_("div",Tt,[c(E,null,{default:b(()=>[c(s(A),{onClick:w},{default:b(()=>[V(Z(s(a)("install ca")),1)]),_:1}),c(y),_("span",Vt,Z(s(a)("proxy start")),1),c(se,{value:s(g),onUpdateValue:k},null,8,["value"])]),_:1})]),_("div",Bt,[c(E,null,{default:b(()=>{var H;return[c(O,{text:s(a)("startup items"),onClick:(H=s(m))==null?void 0:H.show},{default:b(()=>[c(oe)]),_:1},8,["text","onClick"]),c(O,{text:s(a)("launch"),onClick:z},{default:b(()=>[c(ae)]),_:1},8,["text"])]}),_:1})])])}}});export{Yt as default};
