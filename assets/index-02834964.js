import{f as U,aa as M,ab as a,ai as dn,d as Z,af as E,s as L,r as y,n as pn,g as W,j as q,k as s,aj as S,u as t,am as O,b as mn,o as hn,as as _n,a3 as gn,Y as Q,at as N,ak as fn,au as X,av as vn,aw as xn,h as wn}from"./vue-i18n.runtime.esm-bundler-7bc1a93d.js";import{_ as bn}from"./MyButton.vuevuetypescriptsetuptruelang-96d8beeb.js";import{_ as kn}from"./ServerInput.vuevuetypescriptsetuptruelang-eb70a6b5.js";import{_ as jn,a as yn,b as qn}from"./logo-github-8829f34b.js";import{r as $n,a as z,s as Cn,i as Sn,b as K,p as Y,c as An,g as Fn}from"./invoke-a1cec373.js";import{k as Un,_ as en}from"./Modal-dbb3436c.js";import{_ as Bn}from"./SelectFile.vuevuetypescriptsetuptruelang-95782dd0.js";import{_ as on}from"./Checkbox-be288866.js";import{_ as sn}from"./plugin-vueexport-helper-c27b6911.js";import{_ as Pn}from"./Tag-c818412d.js";import{_ as nn}from"./index-07852d44.js";import{_ as In}from"./Input-3a5b3161.js";import{a as Ln}from"./Switch-33d55eee.js";import{_ as Mn}from"./Space-76d7901b.js";import"./Tooltip-2195d70f.js";import"./Icon-df94e6ba.js";import"./axios-5539847f.js";import"./index-f4f4bf7e.js";import"./index-c1baead7.js";import"./Dropdown-f0428dfd.js";import"./fade-in-scale-up.cssr-1de820cf.js";import"./ChevronRight-74019598.js";import"./utils-069dbb80.js";import"./light-34eeac54.js";import"./InputGroupLabel-f17e6372.js";import"./light-2428ec65.js";import"./Popselect-d4a309cd.js";import"./light-5353c187.js";import"./light-01c69131.js";import"./light-d85f4496.js";import"./light-c4111a81.js";import"./get-slot-1efb97e5.js";import"./light-19cfa7e0.js";function Rn(u,r){const c=[];let g=0;for(const n of u.split(`
`)){if(/^## [v[\d.]+/.test(n)&&g++,r&&g>r)break;(n.startsWith("##")||n.startsWith("-"))&&c.push(n)}return c.join(`
`)}const Vn={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Gn=a("path",{fill:"currentColor",d:"M7.1 11.35q.35-.7.725-1.35q.375-.65.825-1.3l-1.4-.275l-2.1 2.1Zm12.05-6.875q-1.75.05-3.737 1.025q-1.988.975-3.613 2.6q-1.05 1.05-1.875 2.25T8.7 12.6l2.85 2.825q1.05-.4 2.25-1.225q1.2-.825 2.25-1.875q1.625-1.625 2.6-3.6Q19.625 6.75 19.675 5q0-.1-.037-.2q-.038-.1-.113-.175q-.075-.075-.175-.113q-.1-.037-.2-.037Zm-5.5 6q-.575-.575-.575-1.413q0-.837.575-1.412t1.425-.575q.85 0 1.425.575q.575.575.575 1.412q0 .838-.575 1.413q-.575.575-1.425.575q-.85 0-1.425-.575Zm-.85 6.55L13.625 19l2.1-2.1l-.275-1.4q-.65.45-1.3.812q-.65.363-1.35.713Zm8.775-13.35q.2 2.75-.9 5.362q-1.1 2.613-3.475 4.988l.5 2.475q.1.5-.05.975q-.15.475-.5.825L14 21.45q-.375.375-.9.287q-.525-.087-.725-.587l-1.525-3.575L6.575 13.3L3 11.775q-.5-.2-.6-.725q-.1-.525.275-.9L5.825 7q.35-.35.838-.5q.487-.15.987-.05l2.475.5q2.375-2.375 4.988-3.475q2.612-1.1 5.362-.9q.2.025.4.112q.2.088.35.238q.15.15.237.35q.088.2.113.4Zm-17.65 12.3q.875-.875 2.137-.888q1.263-.012 2.138.863t.862 2.137q-.012 1.263-.887 2.138q-.625.625-2.087 1.075q-1.463.45-4.038.8q.35-2.575.8-4.038q.45-1.462 1.075-2.087Zm1.425 1.4q-.25.25-.5.913q-.25.662-.35 1.337q.675-.1 1.338-.337q.662-.238.912-.488q.3-.3.325-.725q.025-.425-.275-.725q-.3-.3-.725-.288q-.425.013-.725.313Z"},null,-1),Tn=[Gn];function Nn(u,r){return U(),M("svg",Vn,Tn)}const zn={name:"material-symbols-rocket-launch-outline-rounded",render:Nn},Hn={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Zn=dn('<g fill="none" stroke="currentColor" stroke-dasharray="18" stroke-dashoffset="18" stroke-linecap="round" stroke-width="2"><path d="M12 5V19"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.3s" values="18;0"></animate></path><path d="M5 12H19"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="18;0"></animate></path></g>',1),En=[Zn];function Wn(u,r){return U(),M("svg",Hn,En)}const On={name:"line-md-plus",render:Wn},Dn={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"},Jn=a("path",{fill:"currentColor",d:"M24 24v2h2.46A5.94 5.94 0 0 1 22 28a6.007 6.007 0 0 1-6-6h-2a7.984 7.984 0 0 0 14 5.265V30h2v-6zm-2-10a8.04 8.04 0 0 0-6 2.735V14h-2v6h6v-2h-2.46A5.94 5.94 0 0 1 22 16a6.007 6.007 0 0 1 6 6h2a8.01 8.01 0 0 0-8-8z"},null,-1),Qn=a("path",{fill:"currentColor",d:"M12 28H6v-4h2v-2H6v-5h2v-2H6v-5h2V8H6V4h18v8h2V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4H2v2h2v5H2v2h2v5H2v2h2v4a2 2 0 0 0 2 2h6Z"},null,-1),Xn=[Jn,Qn];function Kn(u,r){return U(),M("svg",Dn,Xn)}const Yn={name:"carbon-change-catalog",render:Kn};var nt={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function tn(u){return u.replace(RegExp("^"+(u.match(/^(\t| )+/)||"")[0],"gm"),"")}function I(u){return(u+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function H(u,r){var c,g,n,x,d,f=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,l=[],h="",k=r||{},w=0;function A(_){var v=nt[_[1]||""],j=l[l.length-1]==_;return v?v[1]?(j?l.pop():l.push(_),v[0|j]):v[0]:_}function B(){for(var _="";l.length;)_+=A(l[l.length-1]);return _}for(u=u.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(_,v,j){return k[v.toLowerCase()]=j,""}).replace(/^\n+|\n+$/g,"");n=f.exec(u);)g=u.substring(w,n.index),w=f.lastIndex,c=n[0],g.match(/[^\\](\\\\)*\\$/)||((d=n[3]||n[4])?c='<pre class="code '+(n[4]?"poetry":n[2].toLowerCase())+'"><code'+(n[2]?' class="language-'+n[2].toLowerCase()+'"':"")+">"+tn(I(d).replace(/^\n+|\n+$/g,""))+"</code></pre>":(d=n[6])?(d.match(/\./)&&(n[5]=n[5].replace(/^\d+/gm,"")),x=H(tn(n[5].replace(/^\s*[>*+.-]/gm,""))),d==">"?d="blockquote":(d=d.match(/\./)?"ol":"ul",x=x.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),c="<"+d+">"+x+"</"+d+">"):n[8]?c='<img src="'+I(n[8])+'" alt="'+I(n[7])+'">':n[10]?(h=h.replace("<a>",'<a href="'+I(n[11]||k[g.toLowerCase()])+'">'),c=B()+"</a>"):n[9]?c="<a>":n[12]||n[14]?c="<"+(d="h"+(n[14]?n[14].length:n[13]>"="?1:2))+">"+H(n[12]||n[15],k)+"</"+d+">":n[16]?c="<code>"+I(n[16])+"</code>":(n[17]||n[1])&&(c=A(n[17]||"--"))),h+=g,h+=c;return(h+u.substring(w)+B()).replace(/^\n+|\n+$/g,"")}const tt=`# 变更日志

## [1.5.6] - 2023-01-07

### 修复 Bug

- 复选框样式错误

- 部分 mods 未生成 modinfo.json

## [1.5.5] - 2023-01-05

### 特性

- 提高本地图片加载速度

- 部分数据更新至 3.3

- 添加窗口总在最前设置

- 游戏启动参数添加无边框窗口/全屏/自定义分辨率

## [1.5.4] - 2022-12-26

### 特性

- 添加 /verify 指令用于获取验证码

- 在停止流量代理或者退出程序后，恢复之前的代理设置

- 右键刷新不会再影响代理状态

## [1.5.3] - 2022-12-24

### 特性

- 新增了一项神秘功能

- 调整自动宽度和滚动条宽度

## [1.5.2] - 2022-12-11

### 特性

- Mod 根据 ini 文件名自动完成分类（仅完成角色部分）

- 更新部分任务数据

- 新增圣遗物生成的数量参数

### 修复 Bug

- Mod 分类结果并未写入本地

- 错误的文案

## [1.5.1] - 2022-12-01

### 特性

- 启动项新增割草机

- 新增变更日志查看

- 新增代理端口配置

- 本地 mod 支持分类与筛选

- 搜索时忽略大小写

- spawn 命令新增血量、攻击力等参数

## [1.5.0] - 2022-11-24

### 特性

- CA 证书安装以及流量代理

- 启动器以及启动项管理

### 破坏性变更

- 相应的插件必须升级到 1.5.0

## [1.4.11] - 2022-11-10

### 特性

- 完善部分怪物名称翻译

- 新增 mod 下载界面的 NFSW 开关

- 新增日语与西班牙语

- 新增圣遗物词条取消强化按钮

### 修复 Bug

- 修正错误的文本

## [1.4.10] - 2022-11-09

### 特性

- 更新完整的人物、武器、材料数据

## [1.4.9] - 2022-11-08

### 特性

- 增加部分 3.2 版本的数据

- 新增 mod 在线下载功能

### 修复 Bug

- 修正部分错误的圣遗物 id

## [1.4.8] - 2022-10-26

### 特性

- 新增圣遗物等级调整

- 完善部分翻译

- 在线 mod(测试)

## [1.4.7] - 2022-10-22

### 特性

- 添加场景列表与传送指令

- 清理背包功能增加参数

- 服务器地址支持域名，增加历史列表

### 修复 Bug

- 修正部分错误的圣遗物 id

- 修复部分丢失的文字提示

## [1.4.6] - 2022-10-17

### 特性

- 增加任务列表

## [1.4.5] - 2022-10-16

### 特性

- 怪物列表修改成分组，加上了 id 便于搜索，补上一部分翻译

## [1.4.4] - 2022-10-16

### 特性

- 用天气 json 文件中的名字替换 id

- 增加怪物列表(由脚本生成，因此暂时还没有翻译)

## [1.4.3] - 2022-10-10

### 特性

- 添加软件版本检测与升级功能

- 修改一键升级功能为可选的(需要插件升级到 v1.4.1)

### 修复 Bug

- 好感度升级现在能立即生效

## [1.4.2] - 2022-10-10

### 特性

- 增加系统代理切换功能

### 修复 Bug

- 修正错误的圣遗物 id

[1.5.6]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.5...v1.5.6
[1.5.5]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.4...v1.5.5
[1.5.4]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.3...v1.5.4
[1.5.3]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.2...v1.5.3
[1.5.2]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.1...v1.5.2
[1.5.1]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.0...v1.5.1
[1.5.0]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.11...v1.5.0
[1.4.11]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.10...v1.4.11
[1.4.10]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.9...v1.4.10
[1.4.9]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.8...v1.4.9
[1.4.8]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.7...v1.4.8
[1.4.7]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.6...v1.4.7
[1.4.6]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.5...v1.4.6
[1.4.5]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.4...v1.4.5
[1.4.4]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.3...v1.4.4
[1.4.3]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.2...v1.4.3
[1.4.2]: https://github.com/jianxingxuejian/grasscutter-tools/releases/tag/v1.4.2
`,et=`# Changelog

## [1.5.6] - 2023-01-07

### Bug Fixes

- checkbox style error

- some mods do not generate modinfo.json

## [1.5.5] - 2023-01-05

### Features

- improve local image loading speed

- update some data to 3.3

- add alwaysOnTop setting

- add borderless window/fullscreen/custom resolution game start parameters

## [1.5.4] - 2022-12-26

### Features

- add /verify command to get mail verify code

- restore the previous proxy settings after stopping proxy traffic or exit the program

- right click refresh will no longer affect the proxy state

## [1.5.3] - 2022-12-24

### Features

- add a mystery feature

- adjust automatic width and scrollbar width of cascader

## [1.5.2] - 2022-12-11

### Features

- mods auto-complete classification based on ini file name (only the characters part is completed)

- update some quest data

- add num param of artifact generate

### Bug Fixes

- mods classification results are not written locally

- Wrong text

## [1.5.1] - 2022-12-01

### Features

- Add Grasscutter to startup items

- Add changelog view

- Add proxy port setting

- Local mods support category and filter

- Ignore case when searching

- Spwn command add maxhp,hp,atk,def parameters

## [1.5.0] - 2022-11-24

### Features

- certificate installation and traffic proxy

- Launcher and startup item management

### Breaking Changes

- The corresponding plugin must be upgrade to 1.5.0

## [1.4.11] - 2022-11-10

### Features

- Improve the translation of some monster names

- Add NFSW switch to the mod download interface

- Add Japanese and Spanish

- Add a button to cancel the ehance of artifact

### Bug Fixes

- Fix the wrong text

## [1.4.10] - 2022-11-09

### Features

- Update complete character, weapon, and material data

## [1.4.9] - 2022-11-08

### Features

- Update some of the data from version 3.2

- Add mod online download function

### Bug Fixes

- Fix part of the wrong artifact id

## [1.4.8] - 2022-10-26

### Features

- Add artifact adjustment lv

- Improve some translation

- Online Mod(test)

## [1.4.7] - 2022-10-22

### Features

- Add scene list and tp command

- Improve some text translation and modification

- Clear Inventory function adds parameters

- Server address support domain name, add history list

### Bug Fixes

- Fix part of the wrong artifact id

- Fix some missing text tips

## [1.4.6] - 2022-10-17

### Features

- Add Quest list

## [1.4.5] - 2022-10-16

### Features

- The monster list is modified to include groups, with ids for easy searching

## [1.4.4] - 2022-10-16

### Features

- Replace the id with the name in the weather json file

- Add monster list

## [1.4.3] - 2022-10-12

### Features

- Add software version check and upgrade function

- modify levelUpAll to be optional(requires plugin upgrade to v1.4.1)

### Bug Fixes

- FetterLevel level-up now is immediately

## [1.4.2] - 2022-10-10

### Features

- Add system proxy switch

### Bug Fixes

- Fix the wrong artifact id

[1.5.6]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.5...v1.5.6
[1.5.5]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.4...v1.5.5
[1.5.4]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.3...v1.5.4
[1.5.3]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.2...v1.5.3
[1.5.2]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.1...v1.5.2
[1.5.1]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.5.0...v1.5.1
[1.5.0]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.11...v1.5.0
[1.4.11]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.10...v1.4.11
[1.4.10]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.9...v1.4.10
[1.4.9]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.8...v1.4.9
[1.4.8]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.7...v1.4.8
[1.4.7]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.6...v1.4.7
[1.4.6]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.5...v1.4.6
[1.4.5]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.4...v1.4.5
[1.4.4]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.3...v1.4.4
[1.4.3]: https://github.com/jianxingxuejian/grasscutter-tools/compare/v1.4.2...v1.4.3
[1.4.2]: https://github.com/jianxingxuejian/grasscutter-tools/releases/tag/v1.4.2
`,ot={class:"flex-col items-center"},st={class:"text-8"},at=a("div",{id:"content"},null,-1),ct=Z({__name:"Changelog",setup(u,{expose:r}){r({open:x});const{t:c}=E(),g=L(),n=y(!1);function x(){n.value=!0,pn(()=>{const d=document.getElementById("content");if(!d)return;let f;g.locale==="zh-CN"?f=tt:f=et,d.innerHTML=H(Rn(f))})}return(d,f)=>{const l=Un,h=en;return U(),W(h,{show:t(n),"onUpdate:show":f[0]||(f[0]=k=>O(n)?n.value=k:null),class:"w-40% of-auto"},{default:q(()=>[s(l,{class:"h-80vh"},{default:q(()=>[a("div",ot,[a("div",st,S(t(c)("changelog")),1),at])]),_:1})]),_:1},8,["show"])}}});const rt={class:"flex-col items-center gap-y-5"},it={class:"flex-center w-full"},lt={class:"flex-center w-full"},ut={class:"flex-center w-full"},dt={class:"flex-center w-full"},pt=Z({__name:"StartupItems",setup(u,{expose:r}){r({show:A,launcherAll:R});const{t:c}=E(),g=L(),{launcher:n,mod:x,updateGamePath:d,updateModPath:f,updateAkebiPath:l,updateLauncher:h,updateGCPath:k}=g,w=y(!1);function A(){w.value=!0}const B=()=>P(k),_=()=>P(d),v=()=>P(f),j=()=>P(l);async function P(F){const o=await Cn();o&&await F(o)}async function R(F){var o;try{const e=n.GCPath;e&&n.GCStart&&await $n(e);const i=x.path;i&&n.modStart&&await z(i);const b=n.akebiPath;if(b&&n.akebiStart)await z(b);else{const p=n.gamePath;p&&n.gameStart&&await z(p,F)}}catch(e){(o=window.$message)==null||o.error(e)}}return(F,o)=>{const e=on,i=Bn,b=en;return U(),W(b,{show:t(w),"onUpdate:show":o[4]||(o[4]=p=>O(w)?w.value=p:null),preset:"card",title:t(c)("startup items"),"auto-focus":!1,class:"w-70%"},{default:q(()=>[a("div",rt,[a("div",it,[s(e,{checked:t(n).GCStart,"onUpdate:checked":[o[0]||(o[0]=p=>t(n).GCStart=p),t(h)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),s(i,{value:t(n).GCPath,"button-text":t(c)("select"),placeholder:t(c)("select gc"),onClick:B},null,8,["value","button-text","placeholder"])]),a("div",lt,[s(e,{checked:t(n).gameStart,"onUpdate:checked":[o[1]||(o[1]=p=>t(n).gameStart=p),t(h)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),s(i,{value:t(n).gamePath,"button-text":t(c)("select"),placeholder:t(c)("select game"),onClick:_},null,8,["value","button-text","placeholder"])]),a("div",ut,[s(e,{checked:t(n).modStart,"onUpdate:checked":[o[2]||(o[2]=p=>t(n).modStart=p),t(h)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),s(i,{value:t(x).path,"button-text":t(c)("select"),placeholder:t(c)("select 3dm"),onClick:v},null,8,["value","button-text","placeholder"])]),a("div",dt,[s(e,{checked:t(n).akebiStart,"onUpdate:checked":[o[3]||(o[3]=p=>t(n).akebiStart=p),t(h)],class:"w-7 mr-4"},null,8,["checked","onUpdate:checked"]),s(i,{value:t(n).akebiPath,"button-text":t(c)("select"),placeholder:t(c)("select akebi"),onClick:j},null,8,["value","button-text","placeholder"])])])]),_:1},8,["show","title"])}}});const mt=sn(pt,[["__scopeId","data-v-7bb4ecb4"]]);const an=u=>(vn("data-v-e99cf20c"),u=u(),xn(),u),ht={class:"flex-col px-10 gap-y-4"},_t={class:"flex items-center"},gt={class:"text-8"},ft={class:"flex-center grow"},vt=an(()=>a("span",{class:"text-8 flex-center"},"Grasscutter-Tools",-1)),xt={class:"ml-auto flex text-8 gap-x-2 cursor-pointer"},wt={class:"flex-center"},bt={class:"flex"},kt={class:"text-5 mr-2"},jt={class:"flex-center"},yt={class:"text-5 mr-2"},qt={class:"flex-center"},$t={class:"flex-center"},Ct={class:"flex-center"},St={class:"ml-2 text-4"},At={class:"flex-center"},Ft={class:"ml-2 text-4"},Ut={class:"flex-center"},Bt={class:"mx-2 text-4"},Pt=an(()=>a("span",{class:"text-4 mx-1"},"x",-1)),It=Z({__name:"index",setup(u){const{t:r}=E(),c=y(""),g=y(!1),n=y(),x=L(),{updateCheckTime:d,getServer:f,launcher:l,updateLauncher:h}=L(),k=y(),w=y(),A=y();async function B(){var o,e;try{const i=await Sn();(o=window.$message)==null||o.success(i)}catch(i){(e=window.$message)==null||e.error(i)}}const _=y("8080"),v=y(!1);function j(o){if(!/^\d+$/.test(o))return!1;const e=Number(o);return e>0&&e<=65535}async function P(o){var e;try{o?(await K(f),await Y(_.value),v.value=!0):(await An(),v.value=!1)}catch(i){(e=window.$message)==null||e.error(i)}}async function R(){var $;await K(f),await Y(_.value),v.value=!0;let o="";const{popup:e,fullscreen:i,customResolution:b,width:p,height:C}=l;e&&(o+=" -popupwindow"),i&&(o+=" -screen-fullscreen"),b&&p&&C&&(o+=` -screen-height ${C} -screen-width ${p}`),console.log(o),($=w.value)==null||$.launcherAll(o)}async function F(o){var b,p;const e=Date.now(),i=x.update.lastCheckTime;if(o||!i||i&&i+216e5<e)try{const{shouldUpdate:C,manifest:$}=await X.checkUpdate();C&&($!=null&&$.body)?(n.value=JSON.parse($.body)[x.locale],g.value=!0):(b=window.$message)==null||b.success(r("latest ver now"))}catch(C){(p=window.$notification)==null||p.error({title:r("failed get update info"),description:`error: ${C}`,content:r("retry manually")})}finally{d(e)}}return mn(()=>{var o;if(g.value){const e=(o=window.$notification)==null?void 0:o.info({title:r("new ver discover"),content:r("whether upgrade"),action:()=>wn(nn,{text:!0,type:"primary",onClick:()=>{var i;e==null||e.destroy(),(i=k.value)==null||i.open(n.value)}},{default:()=>r("confirm")})})}}),hn(async()=>c.value=await _n.getVersion()),gn(async()=>{F(),v.value=await Fn()}),(o,e)=>{var J;const i=Yn,b=Pn,p=jn,C=yn,$=qn,cn=kn,V=In,rn=Ln,G=Mn,ln=On,D=bn,un=zn,T=on;return U(),M("div",ht,[a("div",_t,[a("div",gt,[s(i,{class:"cursor-pointer",onClick:(J=t(A))==null?void 0:J.open},null,8,["onClick"])]),a("div",ft,[vt,s(b,{type:"success",size:"large",class:"ml-2 cursor-pointer",onClick:e[0]||(e[0]=m=>F(!0))},{default:q(()=>[Q(" v"+S(t(c)),1)]),_:1})]),a("div",xt,[s(p,{onClick:e[1]||(e[1]=m=>t(N).open("https://github.com/jianxingxuejian/grasscutter-tools"))}),s(C,{onClick:e[2]||(e[2]=m=>t(N).open("https://discord.com/invite/qGyWhAUApU"))}),t(x).locale==="zh-CN"?(U(),W($,{key:0,onClick:e[3]||(e[3]=m=>t(N).open("https://qm.qq.com/cgi-bin/qm/qr?k=0VnTLjWPz76RSScycDyp2_X68w6b73gO&jump_from=webapi&authKey=AO4rT4mzAw8krhEVDIMECCwFX7wRmGJA9+ui7AK7aQRA3l5BCeS1h/3pXT2MCkzZ"))})):fn("",!0)])]),s(t(X),{ref_key:"updaterRef",ref:k},null,512),s(t(mt),{ref_key:"startupItemsRef",ref:w},null,512),s(t(ct),{ref_key:"changelogRef",ref:A},null,512),a("div",wt,[s(G,null,{default:q(()=>[s(t(nn),{onClick:B},{default:q(()=>[Q(S(t(r)("install ca")),1)]),_:1}),s(cn),a("div",bt,[a("span",kt,S(t(r)("proxy port")),1),s(V,{value:t(_),"onUpdate:value":e[4]||(e[4]=m=>O(_)?_.value=m:null),"allow-input":j,class:"w-20!"},null,8,["value"])]),a("div",jt,[a("span",yt,S(t(r)("proxy start")),1),s(rn,{value:t(v),onUpdateValue:P},null,8,["value"])])]),_:1})]),a("div",qt,[s(G,{class:"items-center"},{default:q(()=>{var m;return[s(D,{text:t(r)("startup items"),onClick:(m=t(w))==null?void 0:m.show},{default:q(()=>[s(ln)]),_:1},8,["text","onClick"]),s(D,{text:t(r)("launch"),onClick:R},{default:q(()=>[s(un)]),_:1},8,["text"])]}),_:1})]),a("div",$t,[s(G,{class:"items-center"},{default:q(()=>[a("div",Ct,[s(T,{checked:t(l).popup,"onUpdate:checked":[e[5]||(e[5]=m=>t(l).popup=m),t(h)],class:"h-4 w-4"},null,8,["checked","onUpdate:checked"]),a("span",St,S(t(r)("borderless window")),1)]),a("div",At,[s(T,{checked:t(l).fullscreen,"onUpdate:checked":[e[6]||(e[6]=m=>t(l).fullscreen=m),t(h)],class:"h-4 w-4"},null,8,["checked","onUpdate:checked"]),a("span",Ft,S(t(r)("fullscreen")),1)]),a("div",Ut,[s(T,{checked:t(l).customResolution,"onUpdate:checked":[e[7]||(e[7]=m=>t(l).customResolution=m),t(h)],class:"h-4 w-4"},null,8,["checked","onUpdate:checked"]),a("span",Bt,S(t(r)("custom resolution")),1),s(V,{value:t(l).height,"onUpdate:value":e[8]||(e[8]=m=>t(l).height=m),"allow-input":j,class:"w-18!"},null,8,["value"]),Pt,s(V,{value:t(l).width,"onUpdate:value":e[9]||(e[9]=m=>t(l).width=m),"allow-input":j,class:"w-18!"},null,8,["value"])])]),_:1})])])}}});const he=sn(It,[["__scopeId","data-v-e99cf20c"]]);export{he as default};
